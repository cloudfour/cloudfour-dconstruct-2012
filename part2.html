<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="author" content="Lyza Gardner" />
  <title>dConstruct 2012: Part II</title>
  <style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
  </style>
  <link rel="stylesheet" type="text/css" media="screen, projection, print"
    href="http://www.w3.org/Talks/Tools/Slidy2/styles/slidy.css" />
  <link rel="stylesheet" type="text/css" media="screen, projection, print"
   href="assets/css/workshop.css" />
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
  <script src="assets/js/workshop.js"></script>
  <script src="http://www.w3.org/Talks/Tools/Slidy2/scripts/slidy.js.gz"
    charset="utf-8" type="text/javascript"></script>
</head>
<body>
<div class="slide titlepage">
  <h1 class="title">dConstruct 2012: Part II</h1>
  <p class="author">
Lyza Gardner
  </p>
  <p class="date">September 6, 2012</p>
</div>
<div class="section titleslide slide level1" id="part-v-web-sites-that-do-things-in-the-mobile-world"><h1 id="part-v-web-sites-that-do-things-in-the-mobile-world">Part V: Web sites that do things, in the mobile world</h1></div><div class="section slide level2" id="the-reading-web-vs.-the-doing-web">
<h1 id="the-reading-web-vs.-the-doing-web">The reading web vs. the doing web</h1>
<ul>
<li>It makes a lot of us devs uncomfortable, but we can't help but notice that there is a fundamental difference between the reference-and-reading Web (Wikipedia, news sites, documentation, blogs, etc.) and the doing-stuff Web (Gmail, Flickr, etc.).</li>
<li>When we talk about mobile, often the glory of the app-based world makes us naturally think of the latter. Which is why I started with the former—the heart of the Web is still content.</li>
<li>Now it's time to talk about doing things on the mobile-device Web.</li>
</ul>
</div><div class="section slide level2" id="making-shakespeare-more-useful">
<h1 id="making-shakespeare-more-useful">Making Shakespeare more useful</h1>
<div class="figure">
<img src="presenter-exercises/401-enhanced/images/nexus.png" alt="Our Shakespeare: How to take it to the next level?" /><p class="caption">Our Shakespeare: How to take it to the next level?</p>
</div>
</div><div class="section slide level2" id="making-shakespeare-more-useful-1">
<h1 id="making-shakespeare-more-useful-1">Making Shakespeare more useful</h1>
<div class="figure">
<img src="presenter-exercises/401-enhanced/images/nexus.png" alt="Our Shakespeare: How to take it to the next level?" /><p class="caption">Our Shakespeare: How to take it to the next level?</p>
</div>
<ul>
<li>Adding a glossary for both unusual words, historical notes, and potentially-confusing turns of phrase</li>
<li>I had a bunch of bright ideas at first</li>
</ul>
</div><div class="section slide level2" id="wouldnt-it-be-cool-if...">
<h1 id="wouldnt-it-be-cool-if...">Wouldn't it be cool if...</h1>
<h3 id="an-early-idea">An early idea</h3>
<p>Users could touch-and-drag to highlight content in the play (a la iBooks or Kindle apps). Custom notes or simple highlights could be saved.</p>
<ul>
<li>On desktop it's pretty easy to access selected text using <code>window.getSelection()</code> or similar by binding to the <code>mouseup</code> and <code>keyup</code> events.</li>
<li>On other devices, I can get at the selected text using the same approach, but I need to bind to different events. <code>touchstart</code> works fairly well for iOS and Androids.</li>
</ul>
</div><div class="section slide level2" id="but...">
<h1 id="but...">But...</h1>
<p>Things got complicated quickly.</p>
<p>One idea might be to look at the results of <code>Modernizr.touch</code> (an available test in Modernizr) and change the way selected text is handled based on that.</p>
<h3 id="for-your-consideration">For your consideration</h3>
<p>What do you think it means when <code>Modernizr.touch</code> is <code>true</code>?</p>
</div><div class="section slide level2" id="touch-events-and-touch-models-are-still-fractured-and-disparate">
<h1 id="touch-events-and-touch-models-are-still-fractured-and-disparate">Touch events and touch models are still fractured and disparate</h1>
<p>Not to say that touch-rich web apps cannot be successfully developed, but sorting out the nuances of each platform's touch situation was more than I wanted to dive into here. Especially as we want to support a broader set of devices than just the newest Webkit-based phones.</p>
<h3 id="i-should-emphasize">I should emphasize</h3>
<p>Such a web app is definitely possible. It's just beyond the scope of my explorations here! I wanted to demonstrate the kinds of thinking and learning that go into these sorts of exercises.</p>
<h3 id="real-world-moment">Real world moment</h3>
<p>Feasibility is a function of many things. In my case, I decided to do something simpler.</p>
</div><div class="section slide level2" id="mobile-development-demands-flexible-evolved-thinking">
<h1 id="mobile-development-demands-flexible-evolved-thinking">Mobile development demands flexible, evolved thinking</h1>
<ul>
<li>Moreso in mobile than perhaps any other time in software development, BDUF (big-development-up-front), waterfalled processes tend to break down.</li>
<li>The unknowns are so numerous, the complications and quirks so widespread and the testing such an investment that an iterative process both in design/spec-ing and implementing sort of forces itself upon us.</li>
<li>Planning mobile web sites and apps seems to demand an open-ended, very flexible approach.</li>
</ul>
</div><div class="section slide level2" id="a-slightly-more-humble-plan">
<h1 id="a-slightly-more-humble-plan">A slightly more humble plan</h1>
<div class="figure">
<img src="assets/images/footnotes.png" alt="Add footnotes to glossed terms and phrases" /><p class="caption">Add footnotes to glossed terms and phrases</p>
</div>
<div class="figure">
<img src="assets/images/glossary.png" alt="...and add a glossary to the end of the document" /><p class="caption">...and add a glossary to the end of the document</p>
</div>
</div><div class="section slide level2" id="a-slightly-more-humble-plan-1">
<h1 id="a-slightly-more-humble-plan-1">A slightly more humble plan</h1>
<div class="figure">
<img src="assets/images/tappable.png" alt="For browsers that support it, use JavaScript to make glossed items tappable" /><p class="caption">For browsers that support it, use JavaScript to make glossed items tappable</p>
</div>
<div class="figure">
<img src="assets/images/popup.png" alt="...and pop up definitions in a modal or lightbox-y thing" /><p class="caption">...and pop up definitions in a modal or lightbox-y thing</p>
</div>
</div><div class="section slide level2" id="a-slightly-more-humble-plan-2">
<h1 id="a-slightly-more-humble-plan-2">A slightly more humble plan</h1>
<div class="figure">
<img src="assets/images/saved-items.png" alt="Allow the user to save glossary entries. This is a bit contrived, but, hey, this is an example" /><p class="caption">Allow the user to save glossary entries. This is a bit contrived, but, hey, this is an example</p>
</div>
<h3 id="hold-that-thought">Hold that thought!</h3>
<p>We'll implement saved items in a little bit. First, to gloss!</p>
</div><div class="section slide level2" id="step-1-glossed-terms-and-a-glossary">
<h1 id="step-1-glossed-terms-and-a-glossary">Step 1: Glossed terms and a glossary</h1>
<p>Step 1 is easy enough. Just need to add some HTML markup and some styles for it.</p>
<pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;dt&gt;</span>Stephano<span class="kw">&lt;/dt&gt;</span>
<span class="kw">&lt;dd&gt;</span>
  <span class="kw">&lt;em</span><span class="ot"> class=</span><span class="st">&quot;stage-direction&quot;</span><span class="kw">&gt;</span>(To <span class="kw">&lt;strong&gt;</span>Trinculo<span class="kw">&lt;/strong&gt;</span>)<span class="kw">&lt;/em&gt;</span>
  <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;prose line&quot;</span><span class="kw">&gt;&lt;span</span><span class="ot"> class=</span><span class="st">&quot;gloss&quot;</span><span class="ot"> data-gloss=</span><span class="st">&quot;tell-not-me&quot;</span><span class="kw">&gt;</span>Tell not me<span class="kw">&lt;/span&gt;</span>; when the <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;gloss&quot;</span><span class="ot"> data-gloss=</span><span class="st">&quot;gloss-butt&quot;</span><span class="kw">&gt;</span>butt<span class="kw">&lt;/span&gt;</span> is out, we<span class="kw">&lt;/span&gt;</span>
  <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;prose line&quot;</span><span class="kw">&gt;</span>will <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;gloss&quot;</span><span class="ot"> data-gloss=</span><span class="st">&quot;drink-water&quot;</span><span class="kw">&gt;</span>drink water<span class="kw">&lt;/span&gt;</span>; not a drop before: therefore <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;gloss&quot;</span><span class="ot"> data-gloss=</span><span class="st">&quot;bear-up&quot;</span><span class="kw">&gt;</span>bear up, and<span class="kw">&lt;/span&gt;&lt;/span&gt;</span>
  <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;prose line&quot;</span><span class="kw">&gt;&lt;span</span><span class="ot"> class=</span><span class="st">&quot;gloss&quot;</span><span class="ot"> data-gloss=</span><span class="st">&quot;bear-up&quot;</span><span class="kw">&gt;</span>board &#39;em<span class="kw">&lt;/span&gt;</span>. Servant-monster, drink to me.<span class="kw">&lt;/span&gt;</span>
<span class="kw">&lt;/dd&gt;</span></code></pre>
<ul>
<li>Note the use of <code>data-gloss</code>. This will be used to match up <code>span.gloss</code> elements to the ID of their glossary counterparts.</li>
<li>You can see the end result in the <code>index.html</code> file in <a href="presenter-exercises/500-glossed/index.html">presenter-exercises/500-glossed/index.html</a></li>
</ul>
</div><div class="section slide level2" id="step-1-a-glossary-section">
<h1 id="step-1-a-glossary-section">Step 1: A glossary section</h1>
<pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;section</span><span class="ot"> class=</span><span class="st">&quot;glossary&quot;</span><span class="kw">&gt;</span>
  <span class="kw">&lt;h2&gt;</span>Glossary<span class="kw">&lt;/h2&gt;</span>
  <span class="kw">&lt;ol&gt;</span>
    <span class="kw">&lt;li</span><span class="ot"> id=</span><span class="st">&quot;tell-not-me&quot;</span><span class="kw">&gt;&lt;em&gt;</span>i.e.<span class="kw">&lt;/em&gt;</span> Don&#39;t tell me not to drink so much.<span class="kw">&lt;/li&gt;</span>
    <span class="kw">&lt;li</span><span class="ot"> id=</span><span class="st">&quot;gloss-butt&quot;</span><span class="kw">&gt;</span>An archaeic unit of wine, and quite a lot of it. A butt of wine around Shakespeare&#39;s time was about 126 gallons (104 imperial gallons). Compare the average US beer keg barrel size of about 15.5 gallons.<span class="kw">&lt;/li&gt;</span></code></pre>
<p>etc.</p>
<p>TODO drawing showing mapping of gloss item to gloss content.</p>
</div><div class="section slide level2" id="step-1-some-styles">
<h1 id="step-1-some-styles">Step 1: Some styles</h1>
<ul>
<li>Our CSS reset wiped out any margins, etc. for <code>&lt;ol&gt;</code>, <code>&lt;sup&gt;</code> and <code>&lt;li&gt;</code> elements</li>
<li>Positioning on <code>sup</code> rule is to avoid <code>sup</code> text making line-spacing weird</li>
</ul>
<pre class="sourceCode css"><code class="sourceCode css">ol <span class="kw">{</span>
  <span class="kw">list-style-type:</span> <span class="dt">decimal</span><span class="kw">;</span>
  <span class="kw">margin</span> <span class="kw">:</span> <span class="dt">.5em</span> <span class="dt">0</span><span class="kw">;</span>
  <span class="kw">line-height:</span> <span class="dt">1.25em</span><span class="kw">;</span>
<span class="kw">}</span>
ol li <span class="kw">{</span>
  <span class="kw">margin:</span> <span class="dt">.5em</span> <span class="dt">2em</span><span class="kw">;</span>
<span class="kw">}</span>
sup <span class="kw">{</span>
  <span class="kw">position</span> <span class="kw">:</span> <span class="dt">relative</span><span class="kw">;</span>
  <span class="kw">top</span>      <span class="kw">:</span> <span class="dt">-.5em</span><span class="kw">;</span>
  <span class="kw">font-size:</span> <span class="dt">.75em</span><span class="kw">;</span>
  <span class="kw">color</span>    <span class="kw">:</span> <span class="dt">#888</span><span class="kw">;</span>
  <span class="kw">padding</span>  <span class="kw">:</span> <span class="dt">.125em</span><span class="kw">;</span>
<span class="kw">}</span>
<span class="fl">.glossary</span> <span class="kw">{</span>
  <span class="kw">float</span> <span class="kw">:</span> <span class="dt">none</span><span class="kw">;</span>
  <span class="kw">clear</span> <span class="kw">:</span> <span class="dt">both</span><span class="kw">;</span>
<span class="kw">}</span>
<span class="fl">.glossary</span> em <span class="kw">{</span>
  <span class="kw">font-style</span> <span class="kw">:</span> <span class="dt">italic</span><span class="kw">;</span>
<span class="kw">}</span></code></pre>
</div><div class="section slide level2" id="as-an-added-bonus...">
<h1 id="as-an-added-bonus...">As an added bonus...</h1>
<p>Threw in some CSS columns:</p>
<pre class="sourceCode css"><code class="sourceCode css"><span class="dv">@media</span> <span class="dv">all</span> <span class="er">and</span> <span class="er">(min-width:</span> <span class="er">50em)</span> <span class="dv">{</span>
  <span class="co">/* ... */</span>
  <span class="fl">.glossary</span> ol <span class="kw">{</span>
    <span class="kw">-moz-column-count</span>   <span class="kw">:</span> <span class="dt">2</span><span class="kw">;</span>
    <span class="kw">-moz-column-gap</span>     <span class="kw">:</span> <span class="dt">1.5em</span><span class="kw">;</span>
    <span class="kw">-webkit-column-count:</span> <span class="dt">2</span><span class="kw">;</span>
    <span class="kw">-webkit-column-gap</span>  <span class="kw">:</span> <span class="dt">1.5em</span><span class="kw">;</span>
    <span class="kw">column-count</span>        <span class="kw">:</span> <span class="dt">2</span><span class="kw">;</span>
    <span class="kw">column-gap</span>          <span class="kw">:</span> <span class="dt">1.5em</span><span class="kw">;</span>
  <span class="kw">}</span>
<span class="dv">}</span></code></pre>
<h3 id="for-your-consideration-1">For your consideration</h3>
<ul>
<li>Why didn't I use the CSS Columns test in Modernizr before using this style?</li>
<li>Do you know of any other CSS modules or new features I could have used to do the layout for this section?</li>
</ul>
</div><div class="section slide level2" id="and-now-we-have-our-baseline">
<h1 id="and-now-we-have-our-baseline">And now we have our baseline</h1>
<p>At this point, we stop and test on our supported devices*.</p>
<p>* I should note that, while developing the markup and styles for this example, I did find a problem in test. I had initially set a <code>width: 100%</code> on the <code>section.glossary</code> element. My <code>section</code> styles already had a padding on them, and this broke the box model and caused horizontal scrolling. C'est la vie. Easily fixed when caught at this stage. Test, iterate, test. Often.</p>
<h4 id="hold-that-thought-1">Hold that thought!</h4>
<p>We're going to have an extravaganza of testing discussion soon.</p>
</div><div class="section slide level2" id="an-updated-baseline">
<h1 id="an-updated-baseline">An updated baseline</h1>
<div class="figure">
<img src="presenter-exercises/500-glossed/images/9670.png" alt="BlackBerry 9670" /><p class="caption">BlackBerry 9670</p>
</div>
<div class="figure">
<img src="presenter-exercises/500-glossed/images/nokia-n8.png" alt="Nokia N8" /><p class="caption">Nokia N8</p>
</div>
<div class="figure">
<img src="presenter-exercises/500-glossed/images/iphone-opera.png" alt="Opera Mini on iPhone" /><p class="caption">Opera Mini on iPhone</p>
</div>
</div><div class="section slide level2" id="notice-tablets">
<h1 id="notice-tablets">Notice tablets</h1>
<div class="figure">
<img src="presenter-exercises/500-glossed/images/ipad.png" alt="iPad" /><p class="caption">iPad</p>
</div>
</div><div class="section slide level2" id="both-ipad-and-fire-support-css-columns">
<h1 id="both-ipad-and-fire-support-css-columns">Both iPad and Fire support CSS Columns</h1>
<div class="figure">
<img src="presenter-exercises/500-glossed/images/fire.png" alt="Kindle Fire" /><p class="caption">Kindle Fire</p>
</div>
<ul>
<li>It is likely your <a href="presenter-exercises/500-glossed/tempest.html">desktop browser might, too</a></li>
<li>Step 1 complete!</li>
</ul>
</div><div class="section slide level2" id="step-2-enhancing-the-glossed-items">
<h1 id="step-2-enhancing-the-glossed-items">Step 2: Enhancing the glossed items</h1>
<ol style="list-style-type: decimal">
<li>We'll be needing the jQuery library for everyone now, not just browsers that have the wider-screen media query applied—we need to take the conditional loading via <code>yepnope</code> away.</li>
<li>I'm somewhat randomly going to select the <a href="http://marcosesperon.es/apps/messi">&quot;Messi&quot;</a> jQuery plugin for popups/modals. We'll need to include that JavaScript in our page and its CSS in our CSS.</li>
<li>We'll need to write a bit of jQuery JavaScript to convert our glossary entries into popup modals and make the glossed items tappable.</li>
</ol>
<h3 id="real-world-moment-1">Real world moment</h3>
<p>The many iterations in developing and enhancing for the mobile web often means refactoring what you already have.</p>
<h3 id="exercise-getting-to-know-our-jquery-plugin-messi"><a href="exercises/501-messi">Exercise: Getting to know our jQuery plugin, Messi</a></h3>
</div><div class="section slide level2" id="part-a-re-futzing-our-javascript">
<h1 id="part-a-re-futzing-our-javascript">Part A: Re-futzing our JavaScript</h1>
<pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;Modernizr.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span>
<span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span>
<span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;gloss.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span>
<span class="kw">&lt;script&gt;</span>
  $(<span class="kw">document</span>).<span class="fu">ready</span>(<span class="kw">function</span>() {
    <span class="kw">if</span> (<span class="kw">Modernizr</span>.<span class="fu">generatedcontent</span> &amp;&amp; <span class="kw">Modernizr</span>.<span class="fu">mq</span>(<span class="ch">&#39;only</span> <span class="ch">all</span> <span class="ch">and</span> (<span class="ch">min</span>-<span class="ch">width</span>:50<span class="ch">em</span>)<span class="ch">&#39;</span>)) {
      $(<span class="ch">&#39;html</span>.<span class="ch">generatedcontent</span> <span class="ch">span</span>.<span class="ch">line&#39;</span>).<span class="fu">filter</span>(<span class="kw">function</span>(index) {
        <span class="kw">return</span> (((index + <span class="dv">1</span>) % <span class="dv">10</span> == <span class="dv">0</span>) &amp;&amp; index &gt; <span class="dv">0</span>);
      }).<span class="fu">addClass</span>(<span class="ch">&#39;line</span>-<span class="ch">number&#39;</span>);
    }
  });
<span class="kw">&lt;/script&gt;</span></code></pre>
<ol style="list-style-type: decimal">
<li>Including jQuery for everyone</li>
<li>Creating JavaScript for glossary items (<code>gloss.js</code>)</li>
<li>Line-number jQuery still here</li>
</ol>
</div><div class="section slide level2" id="part-b-and-c-messi-jquery-plugin-glossary-javascript">
<h1 id="part-b-and-c-messi-jquery-plugin-glossary-javascript">Part B and C: Messi jQuery Plugin, Glossary JavaScript</h1>
<h4 id="gloss.js"><code>gloss.js</code></h4>
<pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="kw">function</span> Messi(a,b) { ... } <span class="co">/* Minified Messi JS */</span>

$(<span class="kw">document</span>).<span class="fu">ready</span>(<span class="kw">function</span>() {
  $(<span class="ch">&#39;.glossary ol li&#39;</span>).<span class="fu">each</span>(<span class="kw">function</span>(index) {
    $(<span class="ch">&#39;span[data-gloss=&quot;&#39;</span> + $(<span class="kw">this</span>).<span class="fu">attr</span>(<span class="ch">&#39;id&#39;</span>) + <span class="ch">&#39;&quot;]&#39;</span>).<span class="fu">click</span>(<span class="kw">function</span>() {
      <span class="kw">var</span> $content = $(<span class="ch">&#39;li#&#39;</span> + $(<span class="kw">this</span>).<span class="fu">attr</span>(<span class="ch">&#39;data-gloss&#39;</span>)).<span class="fu">html</span>();
      <span class="kw">new</span> Messi($content, { <span class="dt">title</span>: <span class="ch">&#39;Glossary&#39;</span> });
    });
  });
});</code></pre>
<p>Finally, added a bunch of styles to the end of <code>styles.css</code>: Messi's CSS.</p>
<p>TODO: Drawing of the way these pieces fit together</p>
</div><div class="section slide level2" id="looks-ok-on-my-desktop...">
<h1 id="looks-ok-on-my-desktop...">Looks OK on my desktop...</h1>
<div class="figure">
<img src="presenter-exercises/501-popups/images/chrome.png" /><p class="caption"></p>
</div>
<ul>
<li>We can <a href="presenter-exercises/501-popups/tempest.html">try it out</a></li>
</ul>
</div><div class="section slide level2" id="but...-1">
<h1 id="but...-1">But...</h1>
<div class="figure">
<img src="presenter-exercises/501-popups/images/iphone.png" alt="Oh, boy" /><p class="caption">Oh, boy</p>
</div>
</div><div class="section slide level2" id="bleh">
<h1 id="bleh">Bleh</h1>
<ul>
<li>As typical, the jQuery plugin Messi is made for desktop browsers. Its CSS is pixel-based. And there's an awful lot of it. Let's see if we can tame it.</li>
<li>Also, we need to add some styles of our own to indicate that the glossed items are tappable.</li>
</ul>
<p>The Messi CSS, lifted from Twitter Bootstrap, contains over 500 lines of CSS (more than twice the length of all of the rest of our CSS). There are many rules that aren't getting used, and a lot of pixel dimensions and gradients and animations and whatnot.</p>
</div><div class="section slide level2" id="refactoring-the-css">
<h1 id="refactoring-the-css">Refactoring the CSS</h1>
<ul>
<li>I culled the Messi CSS by about 250 lines, removing unused styles and minimizing certain CSS effects.</li>
<li>I did leave in some of the button gradients and button transition effects, some opacity things and some text styling and shadows.</li>
</ul>
<h3 id="hold-that-thought-2">Hold that thought!</h3>
<p>This could still be better-optimized</p>
</div><div class="section slide level2" id="making-the-popups-somewhat-responsive">
<h1 id="making-the-popups-somewhat-responsive">Making the popups somewhat responsive</h1>
<div class="figure">
<img src="presenter-exercises/501-popups/images/iphone.png" alt="Popup windows need to be flexible in size" /><p class="caption">Popup windows need to be flexible in size</p>
</div>
<p>So, we need to size the popups to fit different window sizes. Messi allows you to define a width for your popups:</p>
<ul>
<li>Percentage widths seem appealing, but don't center in the window and look a bit ugly.</li>
<li>So we need to determine what the correct width is before launching the popup: getting the width of the screen is not as straightforward as it sounds.</li>
</ul>
<h3 id="for-your-consideration-2">For your consideration</h3>
<p>How do we figure out how wide the popup should be?</p>
</div><div class="section slide level2" id="viewports-again">
<h1 id="viewports-again">Viewports again</h1>
<p>Here's some pre-baked code to get a reasonably approximate window width:</p>
<pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="kw">function</span> viewport() {
  <span class="kw">return</span> { <span class="dt">width</span>: <span class="kw">window</span>.<span class="fu">innerWidth</span> || 
          (<span class="kw">document</span>.<span class="fu">documentElement</span> || <span class="kw">document</span>.<span class="fu">body</span>).<span class="fu">clientWidth</span>, 
         <span class="dt">height</span>: <span class="kw">window</span>.<span class="fu">innerHeight</span> || 
          (<span class="kw">document</span>.<span class="fu">documentElement</span> || <span class="kw">document</span>.<span class="fu">body</span>).<span class="fu">clientHeight</span>};
}</code></pre>
<h3 id="further-reading">Further reading</h3>
<ul>
<li><a href="http://www.quirksmode.org/blog/archives/2010/08/combining_media.html">Relevant post on Quirskmode</a></li>
</ul>
</div><div class="section slide level2" id="still-more-css-brutalization">
<h1 id="still-more-css-brutalization">Still more CSS brutalization</h1>
<div class="figure">
<img src="presenter-exercises/501-popups/images/nokia-n8.jpg" /><p class="caption"></p>
</div>
<ul>
<li>The Messi CSS, even shortened, is making some assumptions about CSS layout. It uses <code>flexbox</code> or <code>box</code> layouts, which this Windows Phone browser doesn't grok.</li>
<li>I tend to find it ironic that Twitter Bootstrap gets touted as a &quot;mobile-friendly&quot; and &quot;responsive&quot; CSS framework.</li>
</ul>
<h3 id="beware">Beware!</h3>
<ul>
<li>There is no international committee monitoring the fair usage of &quot;responsive.&quot; It means...different things to different people.</li>
</ul>
</div><div class="section slide level2" id="updating-our-gloss.js">
<h1 id="updating-our-gloss.js">Updating our gloss.js</h1>
<p>This is what we have now:</p>
<pre class="sourceCode javascript"><code class="sourceCode javascript">$(<span class="kw">document</span>).<span class="fu">ready</span>(<span class="kw">function</span>() {
  $(<span class="ch">&#39;.glossary ol li&#39;</span>).<span class="fu">each</span>(<span class="kw">function</span>(index) {
    $(<span class="ch">&#39;span[data-gloss=&quot;&#39;</span> + $(<span class="kw">this</span>).<span class="fu">attr</span>(<span class="ch">&#39;id&#39;</span>) + <span class="ch">&#39;&quot;]&#39;</span>).<span class="fu">click</span>(<span class="kw">function</span>() {
      <span class="kw">var</span> $content = $(<span class="ch">&#39;li#&#39;</span> + $(<span class="kw">this</span>).<span class="fu">attr</span>(<span class="ch">&#39;data-gloss&#39;</span>)).<span class="fu">html</span>();
      <span class="kw">new</span> Messi($content, { <span class="dt">title</span>: <span class="ch">&#39;Glossary&#39;</span> });
    });
  });
});</code></pre>
<p><code>gloss.js</code></p>
</div><div class="section slide level2" id="updating-our-gloss.js-1">
<h1 id="updating-our-gloss.js-1">Updating our gloss.js</h1>
<pre class="sourceCode javascript"><code class="sourceCode javascript">$(<span class="kw">document</span>).<span class="fu">ready</span>(<span class="kw">function</span>() {
  <span class="kw">var</span> popupWidth       = viewport().<span class="fu">width</span> - <span class="dv">30</span>;
  popupWidth           = (popupWidth &gt; <span class="dv">500</span>) ? <span class="dv">500</span> : popupWidth;
  $(<span class="ch">&#39;.glossary ol li&#39;</span>).<span class="fu">each</span>(<span class="kw">function</span>(index) {
    $(<span class="ch">&#39;span[data-gloss =&quot;&#39;</span> + $(<span class="kw">this</span>).<span class="fu">attr</span>(<span class="ch">&#39;id&#39;</span>) + <span class="ch">&#39;&quot;]&#39;</span>).<span class="fu">addClass</span>(<span class="ch">&#39;gloss-item&#39;</span>).<span class="fu">click</span>(<span class="kw">function</span>() {
      <span class="kw">var</span> $content     = $(<span class="ch">&#39;li#&#39;</span> + $(<span class="kw">this</span>).<span class="fu">attr</span>(<span class="ch">&#39;data-gloss&#39;</span>)).<span class="fu">html</span>();
      <span class="kw">new</span> Messi($content, { <span class="dt">title</span>: <span class="ch">&#39;Glossary&#39;</span>, 
                            <span class="dt">modal</span>: <span class="kw">true</span>,
                            <span class="dt">width</span>: popupWidth + <span class="ch">&#39;px&#39;</span>,
                            <span class="dt">buttons</span>: [ { <span class="dt">id</span>: <span class="ch">&#39;close-gloss-&#39;</span> + $(<span class="kw">this</span>).<span class="fu">attr</span>(<span class="ch">&#39;data-gloss&#39;</span>),
                                        <span class="dt">label</span>: <span class="ch">&#39;Close&#39;</span> },
                                       { <span class="dt">id</span>: <span class="ch">&#39;save-gloss-&#39;</span> + $(<span class="kw">this</span>).<span class="fu">attr</span>(<span class="ch">&#39;data-gloss&#39;</span>),
                                        <span class="dt">label</span>: <span class="ch">&#39;Save&#39;</span>,
                                        <span class="dt">val</span>: <span class="ch">&#39;save&#39;</span>,
                                        <span class="dt">btnClass</span>: <span class="ch">&#39;btn-success&#39;</span> }]
                });
    });
  });
  <span class="kw">function</span> viewport() { <span class="co">/** ... **/</span>  }
});</code></pre>
<h3 id="hold-that-thought-3">Hold that thought!</h3>
<ul>
<li>This is prototyped jQuery code. It gets cleaned up and organized later...</li>
</ul>
</div><div class="section slide level2" id="nuances-in-a-world-of-clicks-and-touches">
<h1 id="nuances-in-a-world-of-clicks-and-touches">Nuances in a world of clicks and touches</h1>
<p>We need to suggest, visually, that the glossed items are clickable (desktop) or tap-able (touch devices). We can start with:</p>
<pre class="sourceCode css"><code class="sourceCode css">span<span class="fl">.gloss-item</span> <span class="kw">{</span>
  <span class="kw">border-bottom:</span> <span class="dt">1px</span> <span class="dt">dashed</span> <span class="dt">#dcc</span><span class="kw">;</span>
<span class="kw">}</span>
span<span class="fl">.gloss-item</span><span class="dv">:hover</span>,
span<span class="fl">.gloss-item</span><span class="dv">:active</span> <span class="kw">{</span>
  <span class="kw">color:</span> <span class="dt">#d94343</span><span class="kw">;</span>
  <span class="kw">cursor:</span> <span class="dt">pointer</span><span class="kw">;</span>
<span class="kw">}</span></code></pre>
<p><code>styles.css</code></p>
<p>And then update our JavaScript a teensy bit to assign the <code>.gloss-item</code> class as part of our initialization process for the glossary popups:</p>
<pre class="sourceCode javascript"><code class="sourceCode javascript">$(<span class="ch">&#39;.glossary ol li&#39;</span>).<span class="fu">each</span>(<span class="kw">function</span>(index) {
  $(<span class="ch">&#39;span[data-gloss =&quot;&#39;</span> + $(<span class="kw">this</span>).<span class="fu">attr</span>(<span class="ch">&#39;id&#39;</span>) + <span class="ch">&#39;&quot;]&#39;</span>).<span class="fu">addClass</span>(<span class="ch">&#39;gloss-item&#39;</span>).<span class="fu">click</span>(<span class="kw">function</span>() { <span class="co">/* ... */</span> });
  <span class="co">/* ... */</span>
});</code></pre>
<p><code>gloss.js</code></p>
</div><div class="section slide level2" id="its-a-start">
<h1 id="its-a-start">It's a start</h1>
<ul>
<li>The <code>:hover</code> styling helps emphasize the click-ability of the spans, at least on desktop devices.</li>
<li>But tapping on the spans can feel a bit cramped on touch devices. Our fingers need more room!</li>
</ul>
<p>Let's add one more line to our JavaScript, at the end of the glossary-setup loop:</p>
<pre class="sourceCode javascript"><code class="sourceCode javascript">$(<span class="ch">&#39;html&#39;</span>).<span class="fu">addClass</span>(<span class="ch">&#39;glossed&#39;</span>);</code></pre>
<p>Now we have <code>html.glossed</code> as a class indicating that we have a JS-driven glossary going on.</p>
</div><div class="section slide level2" id="adjusting-for-touch">
<h1 id="adjusting-for-touch">Adjusting for touch</h1>
<pre class="sourceCode css"><code class="sourceCode css"><span class="fl">.glossed</span> <span class="fl">.scene</span> <span class="kw">{</span>
  <span class="co">/* More line height for narrow/baseline</span>
<span class="co">     when glossary items are active. */</span>
  <span class="kw">line-height</span>     <span class="kw">:</span> <span class="dt">1.5em</span><span class="kw">;</span>
<span class="kw">}</span>
<span class="co">/* ... */</span>
<span class="dv">@media</span> <span class="dv">all</span> <span class="er">and</span> <span class="er">(min-width:</span> <span class="er">50em)</span> <span class="dv">{</span>
  <span class="co">/* But we don&#39;t really need more room</span>
<span class="co">     on wider screens, desktops */</span>
  <span class="fl">.scene</span>, <span class="fl">.glossed</span> <span class="fl">.scene</span> <span class="kw">{</span>
    <span class="kw">line-height:</span> <span class="dt">1.3333em</span><span class="kw">;</span>
    <span class="kw">float:</span> <span class="dt">left</span><span class="kw">;</span>
    <span class="kw">counter-reset:</span> line-count<span class="kw">;</span>
  <span class="kw">}</span>
<span class="dv">}</span></code></pre>
<h3 id="good-enough-for-jazz">Good enough for jazz</h3>
<ul>
<li>Technically, this is not adjusting for touch. It's adjusting for screen size. But there is a lot of correlation between narrow screen sizes and touch screens.</li>
</ul>
</div><div class="section slide level2" id="thats-pretty-nice">
<h1 id="thats-pretty-nice">That's pretty nice</h1>
<div class="figure">
<img src="presenter-exercises/502-responsive-popups/images/9670.png" alt="BlackBerry 9670" /><p class="caption">BlackBerry 9670</p>
</div>
<div class="figure">
<img src="presenter-exercises/502-responsive-popups/images/fire.png" alt="Kindle Fire" /><p class="caption">Kindle Fire</p>
</div>
</div><div class="section slide level2" id="more-better-for-touch">
<h1 id="more-better-for-touch">More better for touch</h1>
<div class="figure">
<img src="presenter-exercises/502-responsive-popups/images/iphone.png" alt="Behaves nicely on the iPhone" /><p class="caption">Behaves nicely on the iPhone</p>
</div>
<div class="figure">
<img src="presenter-exercises/502-responsive-popups/images/iphone2.png" alt="Increased line-height and visual cues for tappable items" /><p class="caption">Increased line-height and visual cues for tappable items</p>
</div>
</div><div class="section slide level2" id="it-works-on-opera-mini...but">
<h1 id="it-works-on-opera-mini...but">It works on Opera Mini...but</h1>
<div class="figure">
<img src="presenter-exercises/502-responsive-popups/images/opera-iphone2.png" alt="Opera Mini is a proxy browser" /><p class="caption">Opera Mini is a proxy browser</p>
</div>
<div class="figure">
<img src="presenter-exercises/502-responsive-popups/images/opera-iphone.png" alt="Why is the line-height so scrunched?" /><p class="caption">Why is the line-height so scrunched?</p>
</div>
</div><div class="section slide level2" id="surprise.">
<h1 id="surprise.">Surprise.</h1>
<div class="figure">
<img src="presenter-exercises/502-responsive-popups/images/opera-line-height.png" alt="Turns out Opera Mini doesn&#39;t support line-height" /><p class="caption">Turns out Opera Mini doesn't support line-height</p>
</div>
<div class="figure">
<img src="presenter-exercises/502-responsive-popups/images/iphone-line-height.png" alt="Same document rendered on an iPhone" /><p class="caption">Same document rendered on an iPhone</p>
</div>
</div><div class="section slide level2" id="the-elephant-in-everyones-room-performance">
<h1 id="the-elephant-in-everyones-room-performance">The elephant in everyone's room: performance</h1>
<ul>
<li>This glossary stuff works swimmingly on newer iOS devices, decent Androids, the Nokia N8, the Kindle Fire, and on the newest BlackBerrys.</li>
<li>It's borderline on BlackBerry 6 devices.</li>
<li>It's almost frustratingly slow on old Android (&lt;2).</li>
</ul>
<h3 id="why">Why?</h3>
<ul>
<li>DOM processing</li>
<li>JS inefficencies</li>
<li>Complex CSS</li>
<li>Slower hardware</li>
<li>Less sophisticated browsers</li>
</ul>
<h3 id="real-world-moment-2">Real world moment</h3>
</div><div class="section slide level2" id="how-could-one-make-it-better">
<h1 id="how-could-one-make-it-better">How could one make it better</h1>
<ul>
<li>Rolling your own JavaScript for the popups instead of relying on a third-party, handsome, but potentially draining library</li>
<li>Reducing or eliminating performance-hammering CSS (gradients, box and text shadows, transitions) altogether</li>
<li>Profiling the JavaScript</li>
<li>Cooking up a combination of feature- or UA-detection that indicates a &quot;lesser&quot; class of devices and disabling this feature on them.</li>
</ul>
<h3 id="hold-that-thought-4">Hold that thought!</h3>
<p>We'll come back to optimization and performance</p>
</div><div class="section slide level2" id="client-side-programming-from-scratch-can-be-hard">
<h1 id="client-side-programming-from-scratch-can-be-hard">Client-side programming from scratch can be hard</h1>
<p>It can get tiring if, every time you need to implement something, you have to build it from scratch. Even if you take that route, building up your own library of re-usable components and keeping them maintained as the mobile landscape sways so wildly beneath you can be challenging if not impossible.</p>
<p>Messi is a good example of the pros and cons of a third-party tool.</p>
</div>
<div class="section titleslide slide level1" id="frameworks"><h1 id="frameworks">Frameworks</h1></div><div class="section slide level2" id="what-frameworks-do-for-us">
<h1 id="what-frameworks-do-for-us">What frameworks do for us</h1>
<ul>
<li>Often a combination of UI framework and development framework</li>
<li>Solve common issues and help with cross-platform support:
<ul>
<li>&quot;Mobile-like&quot; layout vis-a-vis viewport normalization, responsive breakpoints and the like.</li>
<li>&quot;Mobile-like&quot; UI elements: buttons, nav bars, fixed-position toolbars, form inputs.</li>
<li>Emulation of &quot;native-like&quot; transitions between screens and views.</li>
<li>Navigation and AJAX loading of elements, often using the History API and pushState.</li>
<li>Abstraction layers to simplify coding against device APIs.</li>
</ul></li>
</ul>
</div><div class="section slide level2" id="popular-mobile-web-frameworks">
<h1 id="popular-mobile-web-frameworks">Popular mobile web frameworks</h1>
<ul>
<li>[jQuery Mobile](http://jquerymobile.com</li>
<li><a href="http://www.sencha.com/products/touch">Sencha Touch</a></li>
<li><a href="http://the-m-project.net/">The M Project</a></li>
<li><a href="http://www.dhtmlx.com/touch/">DHTMLX Touch</a></li>
<li><a href="http://sproutcore.com/">SproutCore</a></li>
</ul>
</div><div class="section slide level2" id="framework-and-library-pros-and-cons">
<h1 id="framework-and-library-pros-and-cons">Framework and library pros and cons</h1>
<h3 id="pros">Pros</h3>
<ul>
<li>Speeds development time, sometimes massively</li>
<li>Great for prototyping</li>
<li>(Greatly) eases cross-platform gotchas</li>
<li>Maintained (often) by communities who are hyper-focused on specific issues (so you don't have to be)</li>
<li>Provides UI elements to use as baselines</li>
</ul>
<h3 id="cons">Cons</h3>
<ul>
<li>Often heavy, large, performance-draining</li>
<li>Might not support the devices you need to</li>
<li>Native UI emulation or consistent UI metaphors can encourage bland or awkward web apps</li>
<li>Can be difficult to customize</li>
</ul>
</div><div class="section slide level2" id="a-balanced-approach">
<h1 id="a-balanced-approach">A balanced approach</h1>
<p>Sometimes, there is a third option between framework and from-scratch. Using third-party <em>libraries</em> to solve specific issues in your development can often be a boon.</p>
<p>An example: AJAX-rich navigation, with dynamically-loaded content, using the History API, pushstate/popstate to enable the proper usage of back buttons and refresh.</p>
<ul>
<li>Framework options: jQuery Mobile, Sencha Touch, etc.</li>
<li>Another way: Lightweight JavaScript library like asfar.js</li>
</ul>
<h4 id="pro-tip">Pro Tip</h4>
<p>Try to isolate the issue or issues you really want to solve and find a more focused library or tool to solve that problem. Try to have a good understanding of how the library or tool you end up selecting <em>works</em>.</p>
</div>
<div class="section titleslide slide level1" id="part-vi-the-web-as-a-platform-html5-apis-oh-my"><h1 id="part-vi-the-web-as-a-platform-html5-apis-oh-my">Part VI: The web as a platform: HTML5, APIs, oh, my!</h1></div><div class="section slide level2" id="html5-is-complicated-and-confusing">
<h1 id="html5-is-complicated-and-confusing">HTML5 is complicated and confusing</h1>
<ul>
<li>What is HTML5?</li>
<li>What is a device API?</li>
<li>Is there a difference between an HTML API and a JavaScript API?</li>
<li>Who manages all this stuff?</li>
<li>What's the difference between the W3C and the WHATWG?</li>
<li>What works where?</li>
</ul>
</div><div class="section slide level2" id="what-is-the-web">
<h1 id="what-is-the-web">What is the web?</h1>
<ul>
<li>A bunch of HTML stuff</li>
<li>A bunch of CSS stuff</li>
<li>A bunch of media stuff</li>
<li>JavaScript stuff</li>
<li>Stuff that interacts with the hardware</li>
<li>Sorta random stuff</li>
<li>Server and programming stuff</li>
<li>Seriously low-level stuff (HTTP, TCP/IP)</li>
</ul>
</div><div class="section slide level2" id="whatwg-w3c-what-is-html5">
<h1 id="whatwg-w3c-what-is-html5">WHATWG? W3C? What <em>is</em> HTML5?</h1>
<ul>
<li>Jeremy Keith's <a href="http://www.abookapart.com/products/html5-for-web-designers"><em>HTML for Web Designers</em></a> discusses the origins, evolution and relationship between the W3C, the WHATWG and other parties.</li>
<li><a href="http://www.whatwg.org/specs/web-apps/current-work/multipage/introduction.html#is-this-html5?">&quot;Is this HTML5?&quot; section on WHATWG HTML spec</a> helps to iron out a few things.</li>
</ul>
<p>And all of this is whirling and changing so fast. And <em>what about mobile?</em></p>
</div><div class="section slide level2" id="mobile-browser-support-of-html5-things-actually-quite-good-but-not-everywhere">
<h1 id="mobile-browser-support-of-html5-things-actually-quite-good-but-not-everywhere">Mobile browser support of HTML5 things actually quite good, But not everywhere</h1>
<h3 id="proxy-browsers">Proxy browsers</h3>
<ul>
<li>When proxy browsers are involved, we lose the &quot;device&quot; in the equation.</li>
<li>Device and platform interaction is by nature very restricted.</li>
</ul>
<h3 id="older-devices">Older devices</h3>
<ul>
<li>Older browsers are obviously fairly limited.</li>
<li>The older the device is, the less likely it is to have a browser that can or is updated frequently or ever (unscientific).</li>
</ul>
</div><div class="section slide level2" id="device-apis">
<h1 id="device-apis">Device APIs</h1>
<h3 id="what-is-a-device-api">What is a device API?</h3>
<h4 id="according-to-the-w3c"><a href="http://www.w3.org/2009/dap/">According to the W3C</a></h4>
<ul>
<li>Battery Status</li>
<li>Media Capture (HTML and JS)</li>
<li>Network Information</li>
<li>Ambient Light, Humidity and Temperature Events</li>
<li>Proximity Events</li>
<li>Vibration</li>
<li>Web, Pick Media, and Pick Contacts Intents</li>
<li>Calendar</li>
<li>Menu</li>
</ul>
</div><div class="section slide level2" id="brian-leroux-defines-device-apis">
<h1 id="brian-leroux-defines-device-apis">Brian LeRoux defines device APIs:</h1>
<blockquote>
<p>&quot;Typically headless/chrome[le]ss/without a visual manifestation, truly crossplatform.&quot; —<a href="http://brian.io/slides/beyond-html5/#/23">Brian LeRoux</a>, PhoneGap (Adobe)</p>
</blockquote>
<p>He goes on to expand that these APIs usually involve:</p>
<ul>
<li>sensors</li>
<li>data</li>
<li>outputs</li>
</ul>
</div><div class="section slide level2" id="back-to-that-w3c-list...">
<h1 id="back-to-that-w3c-list...">Back to that W3C list...</h1>
<ul>
<li>Battery Status</li>
<li>Media Capture (HTML and JS)</li>
<li>Network Information</li>
<li>Ambient Light, Humidity and Temperature Events</li>
<li>Proximity Events</li>
<li>Vibration</li>
<li>Web, Pick Media, and Pick Contacts Intents</li>
<li>Calendar</li>
<li>Menu</li>
</ul>
</div><div class="section slide level2" id="for-your-consideration-3">
<h1 id="for-your-consideration-3">For your consideration</h1>
<ul>
<li>What's missing here?</li>
<li>Anything else seem odd to you?</li>
</ul>
</div><div class="section slide level2" id="device-apis...yeah-its-cloudy">
<h1 id="device-apis...yeah-its-cloudy">Device APIs...yeah, it's cloudy</h1>
<ul>
<li><strong><a href="http://www.w3.org/TR/geolocation-API/">Geolocation</a></strong>: Its own thing in the W3C</li>
<li><strong>Accelerometer, Device Orientation</strong>: Under the auspices of geolocation</li>
<li><strong><a href="http://www.w3.org/TR/FileAPI/">File API</a> and related</strong>: <a href="http://www.w3.org/2008/webapps/">Web Applications Working Group</a></li>
<li>Everyone's list of device APIs is different</li>
<li>Device APIs are one piece of the puzzle of HTML5 and the web</li>
</ul>
</div><div class="section slide level2" id="the-web-as-platform">
<h1 id="the-web-as-platform">The web as platform</h1>
<div class="figure">
<img src="assets/images/html5-platform.jpg" alt="Platform.html5.org" /><p class="caption">Platform.html5.org</p>
</div>
</div><div class="section slide level2" id="what-weve-seen-already">
<h1 id="what-weve-seen-already">What we've seen already</h1>
<div class="figure">
<img src="assets/images/what-weve-seen.png" alt="What we&#39;ve seen today" /><p class="caption">What we've seen today</p>
</div>
</div><div class="section slide level2" id="mobile-relevant-device-apis">
<h1 id="mobile-relevant-device-apis">Mobile-relevant device APIs</h1>
<div class="figure">
<img src="assets/images/mobile_relevant_apis.jpg" alt="These APIs are hot in mobile" /><p class="caption">These APIs are hot in mobile</p>
</div>
<ul>
<li>Pink: Device APIs (roughly)</li>
<li>Blue: Other APIs and features relevant to mobile (roughly)</li>
<li>As more of these APIs get implemented in real-life mobile browsers, the need to go native for certain platform-level things diminishes</li>
<li>Until then: Hybrid development</li>
</ul>
</div><div class="section slide level2" id="geolocation">
<h1 id="geolocation">Geolocation</h1>
<ul>
<li>Leaps to mind when we think about mobile</li>
<li>Find out where the device (on which the browser is running) is</li>
<li>One of the more widely-implemented device APIs in-browser</li>
<li>W3C specification is pretty easy to get your head around</li>
<li>Is a good example of typical device API progression:
<ol style="list-style-type: decimal">
<li>Proprietary, native-only availability</li>
<li>Proprietary in-browser availability</li>
<li>Scattered standards-based support in browser</li>
<li>Broader standards-based support in browsers, with polyfill fallbacks</li>
<li>(Not yet/the ideal state) Pervasive standards-based support in (nearly) all browsers</li>
</ol></li>
</ul>
</div><div class="section slide level2" id="geolocation-1">
<h1 id="geolocation-1">Geolocation</h1>
<ul>
<li>Modern browsers have near-universal implementation of geolocation of some kind</li>
<li>Notable exceptions are no surprise:
<ul>
<li>IE &lt; 9</li>
<li>Opera Mini (remember what we said about proxy browsers)</li>
</ul></li>
<li>Blackberry &lt; 7 and some other legacy mobile browsers use different implementations</li>
</ul>
</div><div class="section slide level2" id="the-w3c-geolocation-spec">
<h1 id="the-w3c-geolocation-spec">The W3C Geolocation spec</h1>
<ul>
<li>The <a href="http://www.w3.org/TR/geolocation-API/">W3C's geolocation spec</a> is widely implemented and pretty straightforward.</li>
<li>Browsers that implement the API expose the <code>navigator.geolocation</code> object.</li>
<li>The key method on that object is <code>getCurrentPosition(successCallback, failCallback)</code>.</li>
</ul>
</div><div class="section slide level2" id="an-example">
<h1 id="an-example">An example</h1>
<pre class="sourceCode javascript"><code class="sourceCode javascript">&lt;script&gt;
<span class="kw">if</span> (<span class="kw">navigator</span>.<span class="fu">geolocation</span>) {
  <span class="kw">navigator</span>.<span class="fu">geolocation</span>.<span class="fu">getCurrentPosition</span>(onGeoSuccess, onGeoError);
}
<span class="kw">function</span> onGeoSuccess(position) {
  <span class="kw">var</span> coordinates = <span class="kw">position</span>.<span class="fu">coords</span>;
  alert(<span class="kw">coordinates</span>.<span class="fu">latitude</span> + <span class="st">&quot;, &quot;</span> + <span class="kw">coordinates</span>.<span class="fu">longitude</span>);
}
<span class="kw">function</span> onGeoError(error) { alert(<span class="kw">error</span>.<span class="fu">message</span>); }
&lt;/script&gt;</code></pre>
<ul>
<li>Here's <a href="presenter-exercises/600-geolocation">an example in an HTML page you can try</a>.</li>
</ul>
</div><div class="section slide level2" id="with-polyfill">
<h1 id="with-polyfill">With polyfill</h1>
<ul>
<li>It's common to use a polyfill with device APIs to reach more browsers that may have disparate implementations.</li>
<li>A commonly-used polyfill for geolocation is <a href="http://code.google.com/p/geo-location-javascript/">geo-location-javascript</a>, though it is less useful now that Google Gears has been discontinued.</li>
<li>geo-location-javascript, like many/most polyfills, emulates the existing or proposed standard. Thus, though there is a one-line initiation snippet, geo-location-javascript lets you use the same syntax as the W3C standard geolocation API.</li>
</ul>
</div><div class="section slide level2" id="i-cant-really-teach-you-about-device-apis">
<h1 id="i-cant-really-teach-you-about-device-apis">I can't really teach you about device APIs</h1>
<ul>
<li>I can give you a high-level overview</li>
<li>Things are changing so fast that it's more of a game of knowing where to look for information</li>
</ul>
</div><div class="section slide level2" id="and-where-would-that-be">
<h1 id="and-where-would-that-be">And where would that be?</h1>
<h3 id="references">References</h3>
<ul>
<li><a href="http://platform.html5.org/">The Web platform: Browser technologies</a></li>
<li><a href="http://html5please.com/">HTML5Please</a></li>
<li><a href="http://caniuse.com/#cats=JS_API">CanIUse JS APIs</a></li>
<li><a href="http://www.w3.org/2009/dap/">Device APIS WG at W3C</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/HTML/HTML5">Mozilla Developer Network HTML5 Section</a></li>
<li><a href="https://github.com/Modernizr/Modernizr/wiki/HTML5-Cross-Browser-Polyfills">HTML5 Polyfills from Modernizr</a> A list of tons of polyfills</li>
</ul>
<h3 id="other-stuff">Other stuff</h3>
<ul>
<li><a href="http://www.netmagazine.com/features/developer-s-guide-html5-apis">.net Magazine Article</a></li>
<li><a href="http://brian.io/slides/beyond-html5/">Slide deck from Brian LeRoux on Device APIs</a></li>
</ul>
</div><div class="section slide level2" id="mediacapture-api">
<h1 id="mediacapture-api">MediaCapture API</h1>
<h4 id="beware-actually-two-things">Beware! Actually two things</h4>
<ul>
<li><a href="http://www.w3.org/TR/html-media-capture/">HTMLInputElement</a>: New form <code>&lt;input&gt;</code> type</li>
<li><a href="http://www.w3.org/TR/mediacapture-streams/">mediaCapture/Streams</a>: Somewhat confusing (mostly in that it is ever-changing/hard to pin down) JavaScript/Programmatic API</li>
</ul>
<h3 id="mediacapture">MediaCapture</h3>
<ul>
<li>Lets you get at the device's camera and audio recording for capturing media streams and (slightly confusing) still images</li>
<li>Media Capture non-support is one of the chief reasons we still need to go native for a lot of things. That's when we reach for <a href="http://phonegap.com/">PhoneGap</a>.</li>
</ul>
</div><div class="section slide level2" id="htmlinputelement-mediacapture">
<h1 id="htmlinputelement-mediacapture">HTMLInputElement mediaCapture</h1>
<ul>
<li>Implemented in Android 4 (Ice Cream Sandwich)</li>
<li>Starting to show up in other mobile browsers</li>
<li><code>&lt;input type=&quot;file&quot; accept=&quot;image/*&quot; capture=&quot;camera&quot;&gt;</code></li>
<li><code>capture=&quot;camcorder&quot;</code> makes me giggle</li>
<li>Remember, this is the HTML API piece of this, not the programmatic &quot;control the user's camera&quot; piece</li>
</ul>
</div><div class="section slide level2" id="mediacapture-streams-api">
<h1 id="mediacapture-streams-api">mediaCapture Streams API</h1>
<ul>
<li>Lots of churn and change here</li>
<li>No browser (mobile or otherwise) currently shipping implements this spec</li>
<li>It would seem that the Tizen browser <em>might</em></li>
</ul>
</div><div class="section slide level2" id="yet-moar-devicemobile-relevant-apis">
<h1 id="yet-moar-devicemobile-relevant-apis">Yet MOAR Device/Mobile-relevant APIs</h1>
<ul>
<li>Network Information API</li>
<li>Battery Status API</li>
<li>Vibration</li>
<li>Device Orientation</li>
<li>File, Filesystem stuff</li>
<li>Offline Applications
<ul>
<li>My personal nightmare</li>
<li>ApplicationCache (AppCache) sounds straightforward, but it is really terrifying; have lost many days of my life to this beast</li>
<li>I punt you to <a href="http://vimeo.com/43336762">Jake Archibald's fantastic AppCache: DoucheBag presentation</a> (amusing, informative and thorough—I can't possibly compete)</li>
</ul></li>
</ul>
</div><div class="section slide level2" id="domstorageweb-storage">
<h1 id="domstorageweb-storage">DOMStorage/Web Storage</h1>
<blockquote>
<p>&quot;DOM Storage is the name given to the set of storage-related features first introduced in the Web Applications 1.0 specification, and now split off into its own W3C Web Storage specification. DOM Storage is designed to provide a larger, more secure, and easier-to-use alternative to storing information in cookies. It was first introduced with Firefox 2 and Safari 4.&quot; — <a href="https://developer.mozilla.org/en-US/docs/DOM/Storage">Mozilla Developer Network website</a></p>
</blockquote>
<h3 id="exercise-research-web-storage"><a href="exercises/601-dom-storage">Exercise: Research Web Storage</a></h3>
</div><div class="section slide level2" id="localstorage-in-a-nutshell">
<h1 id="localstorage-in-a-nutshell"><code>localStorage</code> in a nutshell</h1>
<h3 id="what-is-localstorage-and-how-does-it-relate-to-web-storage-a.k.a.-dom-storage">What is <code>localStorage</code> and how does it relate to <code>Web Storage</code> a.k.a. <code>DOM Storage</code>?</h3>
<ul>
<li><code>localStorage</code> is part of the DOM Storage/Web Storage API oeuvre along with <code>sessionStorage</code>.</li>
<li>Allows for straightforward storage and retrievel of string key-value pairs.</li>
<li>Both the key and the value must be strings.</li>
<li>Different platforms allot different amounts of space for <code>localStorage</code>. Behaviors can differ when <code>localStorage</code> gets full.</li>
</ul>
</div><div class="section slide level2" id="which-browsers-support-it">
<h1 id="which-browsers-support-it">Which browsers support it?</h1>
<div class="figure">
<img src="assets/images/local-storage-support.png" alt="Information from caniuse.com" /><p class="caption">Information from caniuse.com</p>
</div>
<ul>
<li>Broadly supported</li>
<li>No real surprises that the outliers would be IE and Opera Mini. IE 8 even supports it</li>
</ul>
</div><div class="section slide level2" id="polyfills-for-localstorage">
<h1 id="polyfills-for-localstorage">Polyfills for <code>localStorage</code></h1>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/DOM/Storage">Cookie polyfill</a></li>
<li><a href="https://gist.github.com/350433">Remy Sharp's polyfill for Web Storage</a></li>
<li>Several more polyfills are <a href="https://github.com/Modernizr/Modernizr/wiki/HTML5-Cross-Browser-Polyfills">listed on Modernizr</a></li>
<li>You can also use <a href="http://brian.io/lawnchair/">Lawnchair's DOM adapter</a></li>
</ul>
<h4 id="beware-1">Beware!</h4>
<p>Many <code>localStorage</code> polyfills use cookies. The cookie polyfill is limited by one of the very things that <code>localStorage</code> was intended to relieve: maximum cookie size. 4kb is the max size for any cookie. The lowest common denominator is IE6, which may allow as few as 20 cookies per domain. Also, cookies are sent with every request—expensive overhead on high-latency connections.</p>
</div><div class="section slide level2" id="other-client-and-device-persistencedatafile-options">
<h1 id="other-client-and-device-persistencedatafile-options">Other client and device persistence/data/file options</h1>
<ul>
<li><a href="http://dvcs.w3.org/hg/IndexedDB/raw-file/tip/Overview.html">IndexedDB</a></li>
<li><a href="http://dev.w3.org/2006/webapi/FileAPI/">File API</a></li>
<li><a href="http://dev.w3.org/html5/spec/offline.html#offline">Application Cache/Offline</a></li>
<li>Blob URLs, <a href="http://tools.ietf.org/html/rfc2397">Data URLs</a></li>
</ul>
</div><div class="section slide level2" id="html5please-has-a-bit-of-a-different-perspective-than-caniuse...">
<h1 id="html5please-has-a-bit-of-a-different-perspective-than-caniuse...">HTML5Please has a bit of a different perspective than CanIUse...</h1>
<div class="figure">
<img src="assets/images/html5please-localstorage.png" /><p class="caption"></p>
</div>
</div><div class="section slide level2" id="in-which-i-prototype-a-save-gloss-feature">
<h1 id="in-which-i-prototype-a-save-gloss-feature">In which I prototype a save-gloss feature</h1>
<div class="figure">
<img src="presenter-exercises/502-responsive-popups/images/iphone.png" alt="When a user taps on the Save Button" /><p class="caption">When a user taps on the Save Button</p>
</div>
<div class="figure">
<img src="presenter-exercises/601-prototype/images/nokia-n8.png" alt="The glossed item should be saved" /><p class="caption">The glossed item should be saved</p>
</div>
</div><div class="section slide level2" id="hacking-it-together">
<h1 id="hacking-it-together">Hacking it together</h1>
<h3 id="beware-2">Beware!</h3>
<p>Here comes some JavaScript!</p>
<ol style="list-style-type: decimal">
<li>I'm going to gloss over some of the finer details of the implementation here</li>
<li>I don't want you to gloss over too hard</li>
<li>I'll provide links to more details for the curious</li>
</ol>
</div><div class="section slide level2" id="structure">
<h1 id="structure">Structure</h1>
<ol style="list-style-type: decimal">
<li>Re-organizing the JavaScript
<ul>
<li><code>GlossStorage</code> class to handle interacting with <code>localStorage</code></li>
<li>jQuery extension that relies on Messi</li>
</ul></li>
<li>Adding some CSS to display saved glossary items</li>
<li>Unobtrusive JS: No changes to HTML markup</li>
</ol>
</div><div class="section slide level2" id="enhancement-plan">
<h1 id="enhancement-plan">Enhancement plan</h1>
<ul>
<li>Line-number display and popup enhancements stay as they are</li>
<li>Additional test within <code>GlossStorage</code> to determine <code>localStorage</code> support</li>
<li>Enhancement to save glossed items and show glossed items based on that test</li>
</ul>
<h3 id="the-next-few-slides">The next few slides</h3>
<ol style="list-style-type: decimal">
<li>Structure of <code>GlossStorage</code> class</li>
<li>Detail of <code>localStorage</code> feature test</li>
<li>Structure of jQuery plugin</li>
<li>Additional baseline CSS</li>
<li>Additional wider-screen CSS</li>
</ol>
</div><div class="section slide level2" id="glossstorage">
<h1 id="glossstorage">GlossStorage</h1>
<pre class="sourceCode javascript"><code class="sourceCode javascript">(<span class="kw">function</span>($) {
  <span class="kw">function</span> GlossStorage() {
    <span class="kw">var</span> savedGlosses  = [],
        glossKey      = <span class="ch">&#39;glosses&#39;</span>;

    <span class="kw">this</span>.<span class="fu">supported</span> = <span class="kw">function</span>() {
      <span class="kw">return</span> (<span class="kw">typeof</span> JSON != <span class="ch">&#39;undefined&#39;</span>
                &amp;&amp; <span class="kw">typeof</span> <span class="kw">JSON</span>.<span class="fu">stringify</span>      != <span class="ch">&#39;undefined&#39;</span> 
                &amp;&amp; <span class="kw">typeof</span> <span class="kw">window</span>.<span class="fu">localStorage</span> != <span class="ch">&#39;undefined&#39;</span>);
    };
    <span class="kw">this</span>.<span class="fu">save</span>   = <span class="kw">function</span>(gloss) { };
    <span class="kw">this</span>.<span class="fu">has</span>    = <span class="kw">function</span>(gloss)  { };
    <span class="kw">this</span>.<span class="fu">all</span>    = <span class="kw">function</span>() {  };
    <span class="kw">this</span>.<span class="fu">clear</span>  = <span class="kw">function</span>() {  }; 
    <span class="kw">if</span> (<span class="kw">this</span>.<span class="fu">supported</span>()) {
      savedGlosses = [];
      <span class="kw">if</span> (<span class="kw">localStorage</span>.<span class="fu">getItem</span>(glossKey)) {
        savedGlosses = <span class="kw">JSON</span>.<span class="fu">parse</span>(<span class="kw">localStorage</span>.<span class="fu">getItem</span>(glossKey));
      }
    }
  };

  <span class="co">/** jQuery plugin after this ...*/</span>
})( jQuery );</code></pre>
<p><code>gloss.js</code></p>
</div><div class="section slide level2" id="test-for-localstorage">
<h1 id="test-for-localstorage">Test for <code>localStorage</code></h1>
<ul>
<li>I decided to roll my own and not use a polyfill</li>
</ul>
<pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="kw">this</span>.<span class="fu">supported</span> = <span class="kw">function</span>() {
  <span class="kw">return</span> (<span class="kw">typeof</span> JSON != <span class="ch">&#39;undefined&#39;</span>
            &amp;&amp; <span class="kw">typeof</span> <span class="kw">JSON</span>.<span class="fu">stringify</span>      != <span class="ch">&#39;undefined&#39;</span> 
            &amp;&amp; <span class="kw">typeof</span> <span class="kw">window</span>.<span class="fu">localStorage</span> != <span class="ch">&#39;undefined&#39;</span>);
};</code></pre>
<ul>
<li>The rest of the <code>GlossStorage</code> class interacts with <code>localStorage</code> using its API:
<ul>
<li><code>getItem</code></li>
<li><code>setItem</code></li>
<li><code>removeItem</code></li>
</ul></li>
</ul>
</div><div class="section slide level2" id="jquery-plugin">
<h1 id="jquery-plugin">jQuery Plugin</h1>
<pre class="sourceCode javascript"><code class="sourceCode javascript">$.<span class="fu">fn</span>.<span class="fu">gloss</span> = <span class="kw">function</span>() {
    <span class="kw">var</span> showGloss        = <span class="kw">function</span>($glossItem, glossId) { }; <span class="co">// Pop up definition</span>
    <span class="kw">var</span> saveGloss        = <span class="kw">function</span>(val) {    }; <span class="co">// Save gloss in GlossStorage and update display</span>
    <span class="kw">var</span> showSavedGlosses = <span class="kw">function</span>() {    }; <span class="co">// Add some elements to hold and display saved glosses</span>
    <span class="kw">var</span> buildSavedList   = <span class="kw">function</span>(glosses) {  }; <span class="co">// Generate/update a &lt;dl&gt; with all saved glosses</span>
    <span class="kw">var</span> clearGlosses     = <span class="kw">function</span>() {   }; <span class="co">// Clear glosses out of GlossStorage and update display</span>
    <span class="kw">var</span> viewportSize     = <span class="kw">function</span>() {   }; <span class="co">// From our previous Messi implementation</span>
    <span class="kw">var</span> init             = <span class="kw">function</span>() {
      <span class="kw">var</span> glosses;
      storage           = <span class="kw">new</span> GlossStorage();
      showSavedGlosses();
      <span class="co">// Slightly more formalized way of finding all the glossary definitions</span>
      <span class="co">// And making references to them clickable and styled and ready to</span>
      <span class="co">// pop up definitions</span>
      $(glossarySelector).<span class="fu">find</span>(glossDefinitionSelector).<span class="fu">each</span>(<span class="kw">function</span>() {
        <span class="kw">var</span> glossId     = $(<span class="kw">this</span>).<span class="fu">attr</span>(<span class="ch">&#39;id&#39;</span>),
            $glossItems = $(<span class="ch">&#39;[data-gloss =&quot;&#39;</span> + glossId + <span class="ch">&#39;&quot;]&#39;</span>);
        $<span class="kw">glossItems</span>.<span class="fu">addClass</span>(glossClass).<span class="fu">toggleClass</span>(savedGlossClass, <span class="kw">storage</span>.<span class="fu">has</span>(glossId));
        $<span class="kw">glossItems</span>.<span class="fu">click</span>(<span class="kw">function</span>(event) { showGloss($(<span class="kw">this</span>), glossId); });
      });
    }();
  }</code></pre>
<p><code>gloss.js</code></p>
</div><div class="section slide level2" id="css">
<h1 id="css">CSS</h1>
<pre class="sourceCode css"><code class="sourceCode css">div<span class="fl">.saved-glosses</span> <span class="kw">{</span>
  <span class="kw">background-color</span>       <span class="kw">:</span> <span class="dt">#e8e9de</span><span class="kw">;</span>
<span class="kw">}</span>
div<span class="fl">.saved-glosses</span> h3 <span class="kw">{</span>
  <span class="kw">padding</span>                <span class="kw">:</span> <span class="dt">.5em</span><span class="kw">;</span>
  <span class="kw">cursor</span>                 <span class="kw">:</span> <span class="dt">pointer</span><span class="kw">;</span>
<span class="kw">}</span>
<span class="fl">.remove-glosses</span> <span class="kw">{</span>
  <span class="kw">cursor</span>                 <span class="kw">:</span> <span class="dt">pointer</span><span class="kw">;</span>
  <span class="kw">font-size</span>              <span class="kw">:</span> <span class="dt">1.25em</span><span class="kw">;</span>
  <span class="kw">padding</span>                <span class="kw">:</span> <span class="dt">.25em</span> <span class="dt">0</span><span class="kw">;</span>
<span class="kw">}</span>
<span class="fl">.remove-glosses</span><span class="dv">:before</span> <span class="kw">{</span>
  <span class="kw">content</span>                <span class="kw">:</span> <span class="st">&#39;x&#39;</span><span class="kw">;</span>
  <span class="kw">font-size</span>              <span class="kw">:</span> <span class="dt">.75em</span><span class="kw">;</span>
  <span class="kw">margin-right</span>           <span class="kw">:</span> <span class="dt">.5em</span><span class="kw">;</span>
  <span class="kw">color</span>                  <span class="kw">:</span> <span class="dt">#d94343</span><span class="kw">;</span>
<span class="kw">}</span>
div<span class="fl">.saved-glosses</span> h3<span class="dv">:before</span> <span class="kw">{</span>
  <span class="kw">display</span>                <span class="kw">:</span> <span class="dt">inline-block</span><span class="kw">;</span>
  <span class="kw">width</span>                  <span class="kw">:</span> <span class="dt">1.5em</span><span class="kw">;</span>
  <span class="kw">margin-right</span>           <span class="kw">:</span> <span class="dt">.5em</span><span class="kw">;</span>
  <span class="kw">content</span>                <span class="kw">:</span> <span class="st">&quot;\25B6&quot;</span><span class="kw">;</span>
  <span class="kw">font-size</span>              <span class="kw">:</span> <span class="dt">.5em</span><span class="kw">;</span>
<span class="kw">}</span>
div<span class="fl">.saved-glosses.open</span> h3<span class="dv">:before</span> <span class="kw">{</span>
  <span class="kw">content:</span> <span class="st">&quot;\25BC&quot;</span><span class="kw">;</span>
<span class="kw">}</span>
div<span class="fl">.saved-glosses</span> dl <span class="kw">{</span>
  <span class="kw">display</span>                <span class="kw">:</span> <span class="dt">none</span><span class="kw">;</span>
<span class="kw">}</span>
div<span class="fl">.saved-glosses</span> dt <span class="kw">{</span>
  <span class="kw">text-transform</span>         <span class="kw">:</span> <span class="dt">lowercase</span><span class="kw">;</span>
  <span class="kw">font-variant</span>           <span class="kw">:</span> <span class="dt">small-caps</span><span class="kw">;</span>
  <span class="kw">text-indent</span>            <span class="kw">:</span> <span class="dt">.25em</span><span class="kw">;</span>
  <span class="kw">padding</span>                <span class="kw">:</span> <span class="dt">.25em</span> <span class="dt">0</span><span class="kw">;</span>
  <span class="kw">background-color</span>       <span class="kw">:</span> <span class="dt">#d7d8cd</span><span class="kw">;</span>
<span class="kw">}</span>
div<span class="fl">.saved-glosses</span> dd <span class="kw">{</span>
  <span class="kw">background-color</span>       <span class="kw">:</span> <span class="dt">#e8e9de</span><span class="kw">;</span>
  <span class="kw">width</span>                  <span class="kw">:</span> <span class="dt">96%</span><span class="kw">;</span>
  <span class="kw">padding</span>                <span class="kw">:</span> <span class="dt">2%</span><span class="kw">;</span>
  <span class="kw">font-style</span>             <span class="kw">:</span> <span class="dt">italic</span><span class="kw">;</span>
  <span class="kw">margin</span>                 <span class="kw">:</span> <span class="dt">0</span><span class="kw">;</span>
  <span class="kw">font-size</span>              <span class="kw">:</span> <span class="dt">.875em</span><span class="kw">;</span>
  <span class="kw">line-height</span>            <span class="kw">:</span> <span class="dt">1.25em</span><span class="kw">;</span>
<span class="kw">}</span></code></pre>
</div><div class="section slide level2" id="differentiated-css-in-media-query">
<h1 id="differentiated-css-in-media-query">Differentiated CSS in media query</h1>
<pre class="sourceCode css"><code class="sourceCode css"><span class="dv">@media</span> <span class="dv">all</span> <span class="er">and</span> <span class="er">(min-width:</span> <span class="er">50em)</span> <span class="dv">{</span>
  <span class="co">/* ... */</span>
  <span class="fl">.saved-glosses</span> <span class="kw">{</span>
    <span class="kw">position</span>  <span class="kw">:</span> <span class="dt">relative</span><span class="kw">;</span>
  <span class="kw">}</span>
  <span class="fl">.saved-glosses</span> h3 <span class="kw">{</span>
    <span class="kw">box-shadow:</span> <span class="dt">0px</span> <span class="dt">3px</span> <span class="dt">3px</span> <span class="dt">#999</span><span class="kw">;</span>
  <span class="kw">}</span>
  <span class="fl">.saved-glosses</span> dl <span class="kw">{</span>
    <span class="kw">width</span>     <span class="kw">:</span> <span class="dt">28em</span><span class="kw">;</span>
    <span class="kw">position</span>  <span class="kw">:</span> <span class="dt">absolute</span><span class="kw">;</span>
    <span class="kw">top</span>       <span class="kw">:</span> <span class="dt">auto</span><span class="kw">;</span>
    <span class="kw">box-shadow:</span> <span class="dt">0px</span> <span class="dt">3px</span> <span class="dt">3px</span> <span class="dt">#999</span><span class="kw">;</span>
    <span class="kw">z-index</span>   <span class="kw">:</span> <span class="dt">500</span><span class="kw">;</span>
    <span class="kw">left</span>      <span class="kw">:</span> <span class="dt">0</span><span class="kw">;</span>
    <span class="kw">border</span>    <span class="kw">:</span> <span class="dt">1px</span> <span class="dt">solid</span> <span class="dt">#999</span><span class="kw">;</span>
    <span class="kw">border-top:</span> <span class="dt">0px</span><span class="kw">;</span>
  <span class="kw">}</span>
<span class="dv">}</span></code></pre>
<ul>
<li>You can find the full working example of this first prototyped version in <a href="presenter-exercises/601-prototype">presenter-exercises/601-prototype/</a></li>
<li>Let's <a href="presenter-exercises/601-prototype/tempest.html">try it out</a></li>
</ul>
</div><div class="section slide level2" id="progressive-enhancement-is-holding">
<h1 id="progressive-enhancement-is-holding">Progressive enhancement is holding</h1>
<div class="figure">
<img src="presenter-exercises/601-prototype/images/8320.png" alt="Our page still works on a series-4 BlackBerry" /><p class="caption">Our page still works on a series-4 BlackBerry</p>
</div>
</div>
<div class="section titleslide slide level1" id="part-vii-an-interlude-it-has-to-be-faster"><h1 id="part-vii-an-interlude-it-has-to-be-faster">Part VII: An interlude: It has to be faster</h1></div><div class="section slide level2" id="good-but-not-good-enough">
<h1 id="good-but-not-good-enough">Good, but not good enough</h1>
<ul>
<li>Remember how I mentioned when we first implemented the Messi popups that they felt poky on older hardware?</li>
<li>Let's watch a video of just how <a href="assets/videos/backflip-slow.MOV">poky this is on a Motorola Backflip (Android 1.5)</a></li>
</ul>
</div><div class="section slide level2" id="refactoring">
<h1 id="refactoring">Refactoring</h1>
<ul>
<li>Problems
<ul>
<li>A lot of DOM elements being manipulated by JavaScript</li>
<li>A lot of complex CSS styling—opacity, gradients, transitions are all performance-costly</li>
</ul></li>
<li>Refactoring
<ul>
<li>I removed the Messi jQuery plugin and its styles</li>
<li>I updated my jQuery plugin so it didn't have dependencies on Messi</li>
<li>I created and styled my own popups
<ul>
<li>Didn't include code I wasn't using</li>
<li>Styling avoided use of too many processor-intensive CSS effects</li>
<li><em>Did</em> retain a couple of gradients and a single <code>box-shadow</code></li>
</ul></li>
</ul></li>
</ul>
<h3 id="video-after-the-refactor"><a href="assets/videos/backflip-better.MOV">Video: After the refactor</a></h3>
</div><div class="section slide level2" id="also-striking-blackberry-9670">
<h1 id="also-striking-blackberry-9670">Also striking: BlackBerry 9670</h1>
<ul>
<li>The BlackBerry 9670, despite being a new piece of hardware and a newer browser, is also super slow</li>
<li><a href="assets/videos/9670-slow.MOV">Video: Before</a></li>
<li><a href="assets/videos/9670-better.MOV">Video: After improvement</a></li>
</ul>
<h3 id="buttttt...">Buttttt...</h3>
<ul>
<li>The page still <a href="assets/videos/9670-loading.MOV">loads and renders <em>incredibly slowly</em> on the 9670</a>
<ul>
<li>This is not about downloading the page assets; it is about the client-side rendering of the bits</li>
</ul></li>
</ul>
</div><div class="section slide level2" id="some-numbers">
<h1 id="some-numbers">Some numbers</h1>
<ul>
<li>Here's how long it took from resources received to an HTML page showing up at all (that is, the blank screen time between getting the resources and showing anything)</li>
</ul>
<table>
<thead>
<tr class="header">
<th align="left">Resource(s)</th>
<th align="left">Time</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">HTML page alone (DOM)</td>
<td align="left">2 - 3.5sec</td>
</tr>
<tr class="even">
<td align="left">Stylesheet</td>
<td align="left">.1sec</td>
</tr>
<tr class="odd">
<td align="left">Modernizr.js</td>
<td align="left">.5sec</td>
</tr>
<tr class="even">
<td align="left">jQuery</td>
<td align="left">1 - 2sec</td>
</tr>
<tr class="odd">
<td align="left">Evaluation of Modernizr.mq()</td>
<td align="left">2.5sec</td>
</tr>
<tr class="even">
<td align="left"><strong>TOTAL</strong></td>
<td align="left">~9sec</td>
</tr>
</tbody>
</table>
<ul>
<li>A test page with a very simple DOM, jQuery and Modernizr, with the same <code>Modernizr.mq</code> query took about 2-3 seconds</li>
</ul>
</div><div class="section slide level2" id="what-is-making-this-load-so-slowly-on-that-blackberry">
<h1 id="what-is-making-this-load-so-slowly-on-that-blackberry">What is making this load so slowly on that BlackBerry?</h1>
<ul>
<li>As you might expect, a combination of a bunch of key things:
<ul>
<li>Hardware</li>
<li>Browser</li>
<li>JavaScript handling in the browser</li>
<li>Overall page DOM complexity</li>
<li>Lack of caching</li>
<li>Number of HTTP requests</li>
<li>Large image to display</li>
</ul></li>
</ul>
</div><div class="section slide level2" id="performance-and-the-mobile-web">
<h1 id="performance-and-the-mobile-web">Performance and the mobile web</h1>
<ul>
<li>Minding your performance is step one on the mobile web</li>
<li>Basic performance 101 is key, but often gets overlooked</li>
</ul>
</div><div class="section slide level2" id="top-performance-must-dos-payload-size">
<h1 id="top-performance-must-dos-payload-size">Top performance must-dos: Payload size</h1>
<ul>
<li>Constrain payloads: reduce the number of bytes going over the network
<ul>
<li><strong>Turn on GZIP</strong></li>
<li><strong>I repeat, turn on GZIP</strong></li>
<li>Compress/minify scripts and CSS</li>
<li>Compress images</li>
<li>Serve optimized images from the server</li>
<li>Obsessively check your resource size using Web Inspector, <a href="http://developer.yahoo.com/yslow/">ySlow</a> or similar tools</li>
</ul></li>
</ul>
</div><div class="section slide level2" id="top-performance-must-dos-minimize-requests">
<h1 id="top-performance-must-dos-minimize-requests">Top performance must-dos: Minimize requests</h1>
<ul>
<li>Keep HTTP requests to a minimum
<ul>
<li>Latency and round-trip time for requests over mobile networks is <em>higher</em> than terrestrial networks</li>
<li>Concurrent connections on mobile browsers are sometimes lower than desktop browsers</li>
<li>Concatenate scripts and JS files</li>
<li>Related: reduce DNS lookups</li>
<li>Fix yer 404s: Every request for something that doesn't exist is still a (useless) request</li>
</ul></li>
<li>Use, with caution:
<ul>
<li>CSS sprites</li>
<li>Data-URIs</li>
</ul></li>
</ul>
</div><div class="section slide level2" id="top-performance-must-dos-cache-the-hell-out-of-it">
<h1 id="top-performance-must-dos-cache-the-hell-out-of-it">Top performance must-dos: Cache the hell out of it</h1>
<ul>
<li>Good caching strategies help with both payload reduction and request reduction—the assets are already on the client
<ul>
<li>Set up far-future expires headers on the server</li>
<li>Be aware of caching size limits in older mobile browsers</li>
<li>Keep an eye on external resources (you don't control their caching)</li>
<li>Use, with caution
<ul>
<li>Assets can be stuffed in localStorage (CSS, JS, images as data-URIs)</li>
<li>ApplicationCache</li>
</ul></li>
</ul></li>
</ul>
</div><div class="section slide level2" id="lets-tune-this-thing">
<h1 id="lets-tune-this-thing">Let's tune this thing</h1>
<ul>
<li>Compressing the big image</li>
<li>Doing some quick, big-hit items on the server via an <code>.htaccess</code> file
<ul>
<li>Turning on gzip</li>
<li>Turning off eTags</li>
<li>Setting up far-future expires headers (for caching)</li>
</ul></li>
<li>Reduction of number of external resources</li>
<li>Minification of JS and CSS; putting JS at the bottom of the page</li>
<li>A great resource: <a href="http://developer.yahoo.com/performance/">Yahoo! Exceptional Performance Team</a></li>
</ul>
</div><div class="section slide level2" id="performance-tools">
<h1 id="performance-tools">Performance tools</h1>
<ul>
<li><a href="http://developer.yahoo.com/yslow/">ySlow</a></li>
<li><a href="http://smush.it">smush.it</a></li>
<li><a href="http://refresh-sf.com/yui/">Online YUI Compressor for JS and CSS</a></li>
<li><a href="presenter-exercises/603-performance/.htaccess">Sample .htaccess file</a></li>
</ul>
</div><div class="section slide level2" id="before...">
<h1 id="before...">Before...</h1>
<div class="figure">
<img src="assets/images/performance-start.png" alt="Before tuning" /><p class="caption">Before tuning</p>
</div>
</div><div class="section slide level2" id="after...">
<h1 id="after...">After...</h1>
<div class="figure">
<img src="assets/images/performance-end.png" alt="After tuning" /><p class="caption">After tuning</p>
</div>
</div><div class="section slide level2" id="todo">
<h1 id="todo">TODO</h1>
<ul>
<li>Recap slide</li>
<li>All that we've accomplished</li>
</ul>
</div><div class="section slide level2" id="section">
<h1 id="section"></h1>
</div>
<div class="section titleslide slide level1" id="part-viii-making-sure-it-works-a.k.a.-testing-is-hell"><h1 id="part-viii-making-sure-it-works-a.k.a.-testing-is-hell">Part VIII: Making sure it works, a.k.a. Testing is Hell</h1></div><div class="section slide level2" id="testing-the-mobile-web-is-hard">
<h1 id="testing-the-mobile-web-is-hard">Testing the mobile web is hard</h1>
<ul>
<li>Not a lot of methodologies established</li>
<li>There are, like, a billion different mobile devices and browsers</li>
<li>Hardware required: $$$$ or ££££ or €€€€</li>
<li>Remote debugging is still in its relative infancy</li>
</ul>
<h3 id="ok-so-what-do-we-do">OK, so, what do we do?</h3>
</div><div class="section slide level2" id="most-of-your-testing-is-actually-done-on-the-desktop">
<h1 id="most-of-your-testing-is-actually-done-on-the-desktop">Most of your testing is actually done on the desktop</h1>
<ul>
<li>Before you get onto device (or even into emulator), most of your work prepping for testing on those devices is done in the &quot;traditional&quot; place of development: the desktop.</li>
<li>An area where we are more familiar and comfortable.</li>
<li>Despite their many differences, desktop and mobile browsers do share a common core. You can make <em>some</em> assumptions about support before you get on-device.</li>
</ul>
</div><div class="section slide level2" id="and-you-can-set-yourself-up-for-increased-likelihood-of-success">
<h1 id="and-you-can-set-yourself-up-for-increased-likelihood-of-success">And you can set yourself up for increased likelihood of success</h1>
<ul>
<li>Careful adherence to standards</li>
<li>Techniques like modularized CSS for easier debug</li>
<li>Clarity in your dev-test workflow</li>
</ul>
<h3 id="learning-the-art-of-un-testing">Learning the art of un-testing</h3>
<ul>
<li>The more mobile web things you build, the more you can anticipate trouble areas</li>
<li>Likewise, you can also learn about dependable techniques</li>
</ul>
</div><div class="section slide level2" id="a-testing-workflow">
<h1 id="a-testing-workflow">A testing workflow</h1>
<ul>
<li>A key to successful testing is mapping out the points in your development cycle to insert device-specific testing.</li>
</ul>
<p>TODO: Drawing</p>
</div><div class="section slide level2" id="a-testing-workflow-example">
<h1 id="a-testing-workflow-example">A testing workflow example</h1>
<ol style="list-style-type: decimal">
<li>Initial foundation work on desktop</li>
<li>First set of testing across collection of test devices (broad)</li>
<li>Iteration + development cycles</li>
<li>Test on core devices</li>
<li>Repeat 3 and 4</li>
<li>Test across test devices (broad) on larger feature releases</li>
<li>Occasionally throw in a random device into test to keep yourself honest</li>
<li>Repeat 3 through 7</li>
</ol>
<p>TODO: Drawing of loops</p>
</div><div class="section slide level2" id="the-devices">
<h1 id="the-devices">The devices</h1>
<div class="figure">
<img src="assets/images/testing-devices.jpg" alt="Devices..." /><p class="caption">Devices...</p>
</div>
<ul>
<li>A smaller set of core devices: test on each iteration with these</li>
<li>A larger set of supported devices: test every nth iteration</li>
<li>Use common sense</li>
<li>Keep a couple of easy-to-test devices within arm's reach</li>
</ul>
<h3 id="be-ready-to-be-caught-by-surprise">Be ready to be caught by surprise</h3>
<p>Some issues are hard to anticipate and arise from changes that seem innocuous. Recall:</p>
<ul>
<li>Opera Mini <code>line-height</code> issue</li>
<li>BlackBerry OS 6 <code>small-caps</code> issues</li>
</ul>
</div><div class="section slide level2" id="set-your-foundation">
<h1 id="set-your-foundation">Set your foundation</h1>
<ul>
<li>Foundational work of core of site or app on desktop</li>
<li>After initial foundation is complete, broad test across your collection of supported devices and emulators</li>
<li>Use version control and make discrete, incremental commits for easier rollback</li>
</ul>
</div><div class="section slide level2" id="iteration-and-test-loop">
<h1 id="iteration-and-test-loop">Iteration-and-test loop</h1>
<ul>
<li>Small steps</li>
<li>After each meaningful change (feature, CSS work, etc.) test on a selected subset of your supported devices</li>
<li>Use your increasing experience to guide you what changes are most likely to cause on-device issues</li>
<li>Whatever you do, do <em>not</em> make testing a single, end-of-project event. You will hate your life.</li>
<li>At certain points, especially after significant change, test across your full collection of test devices</li>
<li>Keep at least one of your older/lesser devices in your core group of test devices, even if it's not the biggest target device</li>
</ul>
</div><div class="section slide level2" id="ok.-what-are-the-ways-we-can-test-the-mobile-web">
<h1 id="ok.-what-are-the-ways-we-can-test-the-mobile-web">OK. What are the ways we can test the mobile web?</h1>
<ul>
<li>Desktop-based testing</li>
<li>On-device testing</li>
<li>Remote debugging of physical devices</li>
<li>Remote testing of remote devices</li>
<li>Emulators</li>
</ul>
</div><div class="section slide level2" id="device-testing-is-tedious-and-hard">
<h1 id="device-testing-is-tedious-and-hard">Device testing is tedious and hard</h1>
<ul>
<li>Fortunately, there are some tools:</li>
<li><strong><a href="http://labs.adobe.com/technologies/shadow/">Adobe Shadow</a></strong> (iOS, Android): Remote webkit debug with weinre and shim features, made a lot more user friendly (free)</li>
<li><strong><a href="http://people.apache.org/~pmuellr/weinre/docs/1.x/1.5.0/">weinre</a></strong>: Patrick Mueller's original remote debug for webkit on mobile</li>
<li><strong><a href="https://github.com/marstall/shim">shim</a></strong>: Synced web surfing across connected browsers (node.js)</li>
<li><strong><a href="http://www.opera.com/dragonfly/">Opera Dragonfly</a></strong>: Remote testing (and more) for Opera</li>
<li><strong><a href="http://starkravingfinkle.org/blog/2012/08/firefox-for-android-remote-debugging-is-here/">FireFox mobile remote debug (NEW!)</a></strong>: Several-step setup; I can't get it to work just yet.</li>
</ul>
</div><div class="section slide level2" id="adobe-shadow">
<h1 id="adobe-shadow">Adobe Shadow</h1>
<div class="figure">
<img src="assets/images/shadow.jpg" alt="Devices being tested with Adobe Shadow" /><p class="caption">Devices being tested with Adobe Shadow</p>
</div>
<p>TODO: Adobe Shadow demo</p>
</div><div class="section slide level2" id="moar-testing-tools">
<h1 id="moar-testing-tools">MOAR testing tools</h1>
<ul>
<li><a href="https://addons.mozilla.org/en-US/firefox/addon/user-agent-switcher/">User agent switcher</a></li>
<li><a href="http://techpatterns.com/forums/about304.html">User agent switcher config file</a></li>
<li><a href="https://chrome.google.com/webstore/detail/kkelicaakdanhinjdeammmilcgefonfh">Resizer</a> / <a href="http://chrispederick.com/work/web-developer/">Web Developer Toolkit</a></li>
<li><a href="http://blaze.io/mobile">Blaze.io Mobile Test</a></li>
<li>Automated testing foundations: Web drivers for specs can use headless Mozilla or Webkit, resize the browser, take automated screenshots, etc.</li>
<li><a href="http://responsivepx.com/">ResponsivePX</a></li>
<li><a href="http://stevesouders.com/mobileperf/mobileperfbkm.php">Mobile Performance Bookmarklets</a></li>
<li><a href="http://jdrop.org/">jDrop</a></li>
</ul>
</div><div class="section slide level2" id="other-things">
<h1 id="other-things">Other things</h1>
<ul>
<li>Emulators
<ul>
<li>Generally available in various platform SDKs</li>
<li>Some web-based emulators</li>
<li>Try to get hardware when you can</li>
<li>Can be useful for testing really legacy devices, e.g.
<ul>
<li><a href="http://emulator.mtld.mobi/emulator.php?emulator=nokiaN70">N70 Emulator</a></li>
</ul></li>
<li>Opera Mini older versions can be found in emulators online</li>
</ul></li>
<li>Misc.
<ul>
<li><a href="http://debug.phonegap.com">debug.phonegap.com</a>: Free, online weinre</li>
<li>(Truly) remote device testing: <a href="http://www.keynotedeviceanywhere.com/">Device Anywhere</a> and <a href="http://www.perfectomobile.com/">Perfecto Mobile</a></li>
</ul></li>
</ul>
</div><div class="section slide level2" id="building-a-device-collection">
<h1 id="building-a-device-collection">Building a device collection</h1>
<div class="figure">
<img src="assets/images/cloudfour-testing.jpg" alt="Cloud Four&#39;s device library" /><p class="caption">Cloud Four's device library</p>
</div>
</div><div class="section slide level2" id="what-devices-to-get">
<h1 id="what-devices-to-get">What devices to get</h1>
<ul>
<li>A &quot;modern&quot; iOS device. iPads are obviously a different form factor than iPhones, but having just one of the two covers a lot of bases.</li>
<li>A &quot;modern&quot; Android device running Ice Cream Sandwich (OS 4) or at least Gingerbread (2.3).
<ul>
<li>Preferably a &quot;commodity&quot; device—that is, not the fastest, greatest, but the most likely to be given away free at operator/carrier stores.</li>
</ul></li>
<li>A slightly older Android running 2.0-2.2.</li>
<li>A modern BlackBerry (OS 6, 7 or newer).</li>
<li>An older BlackBerry (OS 5).</li>
</ul>
</div><div class="section slide level2" id="what-devices-to-get-contd.">
<h1 id="what-devices-to-get-contd.">What devices to get, cont'd.</h1>
<ul>
<li>Are you in Europe? A Symbian Nokia phone.</li>
<li>If your organization focuses on a demographic heavy on BlackBerrys, consider an old BlackBerry running OS 4.</li>
<li>A &quot;modern&quot; Windows phone. The Nokia N8 and N9 are very nice devices.</li>
<li>An old Android running &lt;2.</li>
<li>A device (BlackBerry has many) with an unusual aspect ratio.</li>
<li>A larger-format Android device that is not a tablet, e.g. Samsung Note</li>
</ul>
</div><div class="section slide level2" id="tablets">
<h1 id="tablets">Tablets</h1>
<ul>
<li>iPad</li>
<li>Kindle Fire</li>
<li>Android tablet</li>
<li>BlackBerry PlayBook</li>
<li>Windows 8 tablet (coming soon)</li>
</ul>
</div><div class="section slide level2" id="tactics-for-acquiring-devices">
<h1 id="tactics-for-acquiring-devices">Tactics for acquiring devices</h1>
<ul>
<li>Add your own devices to your testing library as your replace them with newer ones. Having out-of-date devices is actually a huge boon.</li>
<li>Factor in the cost of a device or two in projects focusing on those devices.</li>
<li>Join developer programs at different device manufacturers. These are generally not free. BlackBerry has a well-established one. Nokia has a developer relations program as well.</li>
<li>Buy devices used online (Craiglist is a great source in the U.S.; eBay is decent, too). Some can be quite cheap.</li>
<li>Buying devices in the US can save money. But be very aware that the vast majority of these devices are &quot;locked&quot; to carrier.</li>
<li>Talk to device manufacturers and mobile companies directly. It's surprising how often they're quite keen to help.</li>
<li>Go to events and conferences and hope. Lots of mobile conferences give away (often many) devices as door prizes. Heck, I won a BlackBerry torch that way. If you can go to Google I/O you may well walk away with four or five devices (Cloud Four co-founder Jason did, recently).</li>
</ul>
</div><div class="section slide level2" id="the-biggest-tips-for-device-libraries">
<h1 id="the-biggest-tips-for-device-libraries">The biggest tips for device libraries</h1>
<ul>
<li><strong>TEAM UP</strong>: Connect with other developers and organizations through local user groups and the like. Chat. Swap. Trade.</li>
<li><strong>MAKE IT EASY FOR YOURSELF</strong>: Make it easier to test on device and you'll do it more.</li>
</ul>
<h3 id="a-few-resources">A few resources</h3>
<ul>
<li><a href="https://bagcheck.com/blog/22-mobile-device-testing-the-gear">BagCheck Device Testing Gear</a></li>
<li><a href="http://mobiletestingfordummies.tumblr.com/post/20056227958/testing">BBC Devices</a></li>
</ul>
</div><div class="section slide level2" id="efficiencies">
<h1 id="efficiencies">Efficiencies</h1>
<ul>
<li>Define a spot for your devices. A bookshelf, table or desk for them to live on or in.</li>
<li>Keep as many devices charged as is reasonably possible.</li>
<li>Group devices by charger and platform.</li>
<li>Have a plan for system and software updates.</li>
<li>Have a work area at or near the testing library.</li>
<li>Keep in mind the overhead required for device maintenance when establishing a collection.</li>
<li>If you're the organized type, create a spreadsheet or somesuch for tracking the details of your devices.</li>
<li>Don't collect <em>too</em> many devices.</li>
</ul>
</div><div class="section slide level2" id="weird-things-you-might-not-think-of-when-choosing-test-devices">
<h1 id="weird-things-you-might-not-think-of-when-choosing-test-devices">Weird things you might not think of when choosing test devices</h1>
<p>When choosing a device within a given platform, consider:</p>
<ul>
<li>Which has the better keyboard (soft or hard)? You'll be entering in URLs willy-nilly, and variations in keyboard layouts and tactile feedback across devices can make a big difference.</li>
<li>How easy is it to find and change Wifi settings? Any other Wifi issues?</li>
<li>Battery life when idle/hibernating. Phones that don't need to be charged constantly when not in use are a boon to device libraries.</li>
<li>Charging interface. Aim for USB mini (becoming more universal these days but there are still outliers, esp. iOS and tablets).</li>
<li>How easy is it to update the OS and/or apps? Some of this is carrier/operator dependent.</li>
</ul>
</div><div class="section slide level2" id="some-emerging-techniques">
<h1 id="some-emerging-techniques">Some emerging techniques</h1>
<ul>
<li>Something I've done lately when doing Rails development is use the combination of:
<ul>
<li>rSpec/Capybara</li>
<li>poltergeist: Phantom.js Web driver for Capybara tests</li>
<li>jasmine for JS testing</li>
</ul></li>
<li><a href="http://www.youtube.com/watch?v=51E3FWMKkig&amp;feature=player_embedded#!">jQueryMobile Automated Selenium Testing</a></li>
<li>The emergence of automated remote testing</li>
</ul>
</div><div class="section slide level2" id="more-new-stuff">
<h1 id="more-new-stuff">More new stuff</h1>
<div class="figure">
<img src="assets/images/appthwack.png" alt="AppThwack (Closed Beta) automated Android web screen shots" /><p class="caption">AppThwack (Closed Beta) automated Android web screen shots</p>
</div>
<ul>
<li><a href="assets/images/appthwack-full.png">Screen grab of entire page of Android results</a></li>
</ul>
</div><div class="section slide level2" id="case-study-testing-the-tempest-project">
<h1 id="case-study-testing-the-tempest-project">Case study: testing the Tempest project</h1>
<ul>
<li>Full test suite
<ul>
<li>iPhone iOS 5 Safari</li>
<li>iPhone iOS 5 Opera Mini</li>
<li>Android Nexus S 4.0</li>
<li>Android Nexus S 4.0 Firefox 15</li>
<li>BlackBerry 9670 (OS 6)</li>
<li>BlackBerry 8230 (OS 4.5)</li>
<li>Motorola Backflip Android 1.5</li>
<li>Kindle Fire</li>
<li>Nokia N8 Windows Phone 7.5</li>
</ul></li>
</ul>
</div><div class="section slide level2" id="case-study-testing-the-tempest">
<h1 id="case-study-testing-the-tempest">Case study: testing the Tempest</h1>
<ul>
<li>Extended test suite
<ul>
<li>iPhone Nexus 1 Android 2.3</li>
<li>BlackBerry PlayBook</li>
<li>iPad iOS5 (first-generation)</li>
<li>Samsung Galaxy S (Android 2.2)</li>
<li>Google G1 (Android 1.6)</li>
<li>BlackBerry 9800 Torch (OS 6)</li>
<li>BlackBerry 9810 Torch (OS 6)</li>
</ul></li>
</ul>
</div><div class="section slide level2" id="case-study-testing-the-tempest-scene">
<h1 id="case-study-testing-the-tempest-scene">Case study: testing the Tempest scene</h1>
<ul>
<li>Foundational HTML only
<ul>
<li>Test across full suite</li>
<li>Take note of title adjustment needs</li>
</ul></li>
<li>Baseline CSS
<ul>
<li>Full suite test</li>
<li>Noted a bug in my CSS (font stack)</li>
</ul></li>
<li>Fluid baseline CSS
<ul>
<li>Full suite test</li>
<li>Found box-model bug in my CSS</li>
<li>Found <code>small-caps</code> issue on multiple BlackBerrys
<ul>
<li>Testing on extended set of BlackBerrys</li>
</ul></li>
</ul></li>
</ul>
</div><div class="section slide level2" id="case-study-testing-the-tempest-scene-cont.">
<h1 id="case-study-testing-the-tempest-scene-cont.">Case study: testing the Tempest scene, cont.</h1>
<ul>
<li>Media queries
<ul>
<li>Restricted suite testing (fairly confident/un-testing)</li>
<li>IE desktop testing (based on knowledge of fail)</li>
<li>Shimmed HTML5</li>
</ul></li>
<li><code>@font-face</code> enhancement
<ul>
<li>Restricted suite testing</li>
<li>Additional BlackBerry testing (wary after <code>small-caps</code>)</li>
<li>Found BlackBerry hell
<ul>
<li>Decided to put <code>@font-face</code> in media query</li>
</ul></li>
</ul></li>
</ul>
</div><div class="section slide level2" id="case-study-testing-the-tempest-scene-cont.-1">
<h1 id="case-study-testing-the-tempest-scene-cont.-1">Case study: testing the Tempest scene, cont.</h1>
<ul>
<li>Line-number enhancement
<ul>
<li>Restricted suite testing</li>
</ul></li>
<li>HTML markup for glossary
<ul>
<li>Restricted suite testing</li>
<li>Extended testing on tablets for <code>css-column</code></li>
</ul></li>
<li>Messi jQuery plugin
<ul>
<li>Immediate fail on mobile</li>
</ul></li>
<li>Messi CSS refactor/prototype save button
<ul>
<li>Full suite test</li>
<li>Found Opera Mini <code>line-height</code> issue</li>
</ul></li>
</ul>
</div><div class="section slide level2" id="case-study-testing-the-tempest-scene-cont.-2">
<h1 id="case-study-testing-the-tempest-scene-cont.-2">Case study: testing the Tempest scene, cont.</h1>
<ul>
<li>Prototyped functionality of gloss-save feature
<ul>
<li>Not covered in slides (proof of concept stage)</li>
<li>Multiple full-suite tests</li>
</ul></li>
<li>Revised, first version gloss-save feature (CSS and JS)
<ul>
<li>Full suite test</li>
</ul></li>
<li>Non-Messi popup version for performance
<ul>
<li>Full suite test with emphasis on older devices</li>
</ul></li>
<li>Performance enhancements
<ul>
<li>Restricted suite testing</li>
</ul></li>
<li>Complete
<ul>
<li>Extended suite testing</li>
</ul></li>
</ul>
</div>
</body>
</html>
